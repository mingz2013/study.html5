<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>

        var img = new Image();
        img.src = 'ball.png';
        var ctx;

        var boxX = 50, boxY = 50, boxW = 200, boxH = 200;
        var ballX = 100, ballY = 100, ballW = 45, ballH = 45;
        var moveX = 1, moveY = 3;

        function init(){
            ctx = document.getElementById('canvas').getContext('2d');

//            ctx.beginPath();
//            ctx.fillStyle = '#009966';  // 设置圆的颜色
//            ctx.arc(50 + 50, 50 + 50, 5, 0, Math.PI * 2, true);   // 构造一个圆，用fill绘制
//            ctx.closePath();    // 结束路径
//            ctx.fill(); // 绘制路径，填充这个圆

            ctx.lineWidth = 5;  // 设置线宽

            setInterval(moveball, 1/60);
        }


        function moveball(){
            ctx.clearRect(boxX, boxY, boxW, boxH); // 清除盒子 包括球

            moveAndCheck();

            ctx.drawImage(img, ballX, ballY, ballW, ballH); // 绘制图片

            ctx.strokeRect(boxX, boxY, boxW, boxH);   // 绘制矩形

        }

        function moveAndCheck(){
            ballX += moveX;
            if(moveX > 0){
                if(ballX + ballW > boxX + boxW){
                    ballX =  2 * (boxX + boxW) - (ballX + ballW) - ballW ;
                    moveX = - moveX;
                }
            }else{
                if(ballX < boxX){
                    ballX = -ballX + 2*boxX;
                    moveX = -moveX;
                }
            }

            ballY += moveY;
            if(moveY > 0){
                if(ballY + ballH > boxY + boxH) {
                    ballY = 2 * (boxY + boxH) - (ballY + ballH) - ballH;
                    moveY = -moveY;
                }
            }else{
                if(ballY < boxY){
                    ballY = -ballY + 2*boxY;
                    moveY = -moveY;
                }
            }

        }

    </script>

</head>
<body onload="init();">

<canvas id="canvas" width="1000" height="1000">
    your browser doesn't support the HTML5 element canvas
</canvas>


</body>
</html>
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        window.onload = function(){

            // 获取上下文对象
            ctx = document.getElementById('canvas').getContext('2d');

            // 为所有线条 设置这些
            ctx.lineWidth = 10; // 线宽
            ctx.strokeStyle = "rgb(205, 40, 40)";// "#cd2828";  // 设置颜色

            // 画直线
            ctx.moveTo(10, 10);
            ctx.lineTo(100, 100);
            ctx.lineCap = 'butt';   // 方头
            ctx.stroke();

            // 绘制第二条线，使用圆头
            ctx.beginPath();    // 每次调用，都重新开始一个新的绘制
            ctx.moveTo(50, 20);
            ctx.lineTo(150, 120);
            ctx.lineCap = 'round'; // 圆头
            ctx.stroke();

            // 绘制第三条线，使用加长方头
            ctx.beginPath();
            ctx.moveTo(100, 20);
            ctx.lineTo(200, 120);
            ctx.lineCap = 'square'; // 加长方头
            ctx.stroke();

            // 画出红色空心三角形
            ctx.beginPath();
            ctx.moveTo(200, 200);
            ctx.lineTo(300, 400);
            ctx.lineTo(100, 500);
            ctx.lineTo(200, 200);
            ctx.strokeStyle = 'red';
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(400, 200);
            ctx.lineTo(500, 400);
            ctx.lineTo(300, 500);
            ctx.lineTo(400, 200);
            ctx.strokeStyle = 'red';
            ctx.stroke();   //绘制轮廓， 可有可无，有的话，多一条红边，没有的话，就没有红边了
            // 给三角形填充颜色
            ctx.closePath();    // 明确的关闭路径
            ctx.fillStyle = 'blue';
            ctx.fill(); // 填充内部

            ctx.fillRect(300, 600, 100, 100);   // 填充矩形
            ctx.strokeRect(500, 600, 100, 100); // 绘制轮廓

            // 绘制圆弧
            ctx.beginPath();
            ctx.arc(
                    100,    // centerX
                    600,    // centerY
                    50,    // radius 半径
                    0.25 * Math.PI, // starting angle// 弧度
                    1.75 * Math.PI // ending angle

            );
            ctx.closePath();
            ctx.stroke();

            // 贝塞尔曲线
            ctx.beginPath();
            ctx.moveTo(10, 1000);
            // 创建变量，保存两个控制点和 曲线终点的信息
            var control1_x = 187, control1_y = 340, control2_x = 300, control2_y = 700, endPoint_x = 100, endPoint_y = 1200;
            ctx.bezierCurveTo(control1_x, control1_y, control2_x, control2_y, endPoint_x, endPoint_y);  // 绘制曲线
            ctx.stroke();


            // 变换
            ctx.beginPath();
            ctx.save(); // 保存 坐标变换 状态
            ctx.rect(100, 1000, 90, 90);  // 绘制矩形
            // 平移变换
            ctx.translate(100, 100);    // 把坐标系 向下 向右 各移动100像素
            ctx.rect(100, 1000, 90, 90);  // 绘制矩形
            ctx.translate(100, 100);    // 把坐标系 再次移动，移动是可以累积的
            ctx.rect(100, 1000, 90, 90);  // 绘制矩形
            ctx.stroke();
            ctx.restore();      // 恢复到上一个坐标变换状态

            // TODO 这个有问题，变换不了
            ctx.beginPath();
            ctx.save();
            ctx.rect(100, 1300, 90, 90);
            ctx.translate(100, 100);  // 平移变换
//            ctx.rotate(2 * Math.PI / 10); // 旋转变换 // 弧度
//            ctx.scale(0.5, 0.5);    // 缩放变换
//            ctx.matrix // 矩阵变换
            ctx.rect(100, 1300, 90, 90);
            ctx.fill();
            ctx.restore();


            // 透明度
            ctx.beginPath();
            ctx.rect(100, 1500, 90, 90);
            ctx.fill();
            ctx.stroke();
            ctx.beginPath();
            ctx.fillStyle = 'rgba(100, 150, 180, 0.5)';  // a alpha代表透明度
            ctx.strokeStyle = 'rgba(100, 2, 250, 0.3)';
            ctx.arc(100, 1500, 100, 0, 2 * Math.PI, true);
            ctx.fill();
            ctx.stroke();
            ctx.globalAlpha = 0.5;  // 全局透明度    第二种设置透明度的方法
            ctx.globalAlpha = 1;

        };
    </script>
</head>
<body>
<canvas id="canvas" width="1000" height="2000">
    your browser doesn't support the HTML5 element canvas
</canvas>
</body>
</html>
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        window.onload = function(){

            // 获取上下文对象
            ctx = document.getElementById('canvas').getContext('2d');

            // 绘制文本，速度较慢，优化方法，将文本保存为图片，然后绘制图片
            ctx.font = 'bold 20px Arial';
            ctx.textBaseline = 'top';
            ctx.fillStyle = 'red';
            ctx.fillText("I'm struck in canvas, Someone let me out!", 10, 10, 200);

            ctx.font = 'bold 40px Verdana, sans-serif';
            ctx.lineWidth = 2;
            ctx.strokeStyle = 'blue';
            ctx.strokeText("I'm an OUTLINE", 20, 20);


            // TODO 添加阴影
            // TODO 填充图案


            // 变换
            ctx.beginPath();
            ctx.save();
            ctx.translate(30, 200);
            ctx.fillStyle = 'rgba(250, 0, 0, 0.4)';
            for(var i = 0; i < 50; i++){
                ctx.translate(50, 50);
                ctx.scale(0.93, 0.93);
                ctx.rotate(-Math.PI / 10);
                ctx.fillRect(0, 0, 150, 75);
            }
            ctx.restore();

            ctx.save();
            // 斜切变换
            function skew(ctx, angle){
                ctx.transform(1, 0, -Math.tan(angle), 1, 0, 0); // 矩阵变换
            }
            ctx.translate(200, 300);
            ctx.fillStyle = 'rgba(20, 200, 0, 0.4)';
            for(var i = 0; i < 50; i++){

                ctx.translate(50, 30);
                ctx.scale(0.93, 0.93);
                skew(ctx, Math.PI / 10);    // 斜切变换
                ctx.fillRect(0, 0, 150, 75);
            }
            ctx.restore();



            // TODO 控制叠加风格


        };
    </script>
</head>
<body>
<canvas id="canvas" width="1000" height="2000">
    your browser doesn't support the HTML5 element canvas
</canvas>
</body>
</html>